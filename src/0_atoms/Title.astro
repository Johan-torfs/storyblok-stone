---
import { storyblokEditable, type SbBlokData, type ISbRichtext } from '@storyblok/astro';

interface StoryblokTitle extends SbBlokData {
    component: 'title';
    title: string;
    htmlTag?: "h1" | "h2" | "h3" | "h4" | "h5" | "h6";
    color?: "primary"| "secondary" | "accent_1" | "accent_2" | "accent_3" | "accent_4" | "accent_5" | "white" | "black";
    size?: "sm" | "md" | "lg" | "xl" | "2xl" | "3xl" | "4xl" | "default";
    font?: "sans" | "montserrat" | "fraunces";
    dark?: boolean;
    center?: boolean;
    margin_bottom?: 0|2|4|6|8|16|24;
}


interface Props {
    blok: StoryblokTitle;
}

const { blok } = Astro.props;

const possibleColors = {
    primary: blok.dark ? "dark:text-primary-700 text-primary-400" : "text-primary-700 dark:text-primary-400",
    secondary: blok.dark ? "dark:text-secondary-700 text-secondary-400" : "text-secondary-700 dark:text-secondary-400",
    accent_1: blok.dark ? "dark:text-accent-1-700 text-accent-1-400" : "text-accent-1-700 dark:text-accent-1-400",
    accent_2: blok.dark ? "dark:text-accent-2-700 text-accent-2-400" : "text-accent-2-700 dark:text-accent-2-400",
    accent_3: blok.dark ? "dark:text-accent-3-700 text-accent-3-400" : "text-accent-3-700 dark:text-accent-3-400",
    accent_4: blok.dark ? "dark:text-accent-4-700 text-accent-4-400" : "text-accent-4-700 dark:text-accent-4-400",
    accent_5: blok.dark ? "dark:text-accent-5-700 text-accent-5-400" : "text-accent-5-700 dark:text-accent-5-400",
    white: blok.dark ? "text-white text-black" : "dark:text-white text-black",
    black: blok.dark ? "text-black text-white" : "dark:text-black text-white",
    default: blok.dark ? "text-white text-black" : "dark:text-white text-black",
}

const possibleSize = {
    sm: "text-sm",
    md: "text-md",
    lg: "text-lg",
    xl: "text-xl",
    "2xl": "text-2xl",
    "3xl": "text-3xl",
    "4xl": "text-4xl",
}

const possibleFonts = {
    sans: "font-sans",
    montserrat: "font-montserrat",
    fraunces: "font-fraunces",
}

const possibleMarginBottom = {
    0: "mb-0",
    2: "mb-2",
    4: "mb-4",
    6: "mb-6",
    8: "mb-8",
    16: "mb-16",
    24: "mb-24",
};

const className = `
    ${blok.color ? possibleColors[blok.color] : possibleColors["default"]}
    ${blok.font ? possibleFonts[blok.font] : possibleFonts["sans"]}
    ${blok.center ? "text-center" : ""}
    ${blok.margin_bottom ? possibleMarginBottom[blok.margin_bottom] : ""}
`.replace(/\s+/g, ' ').trim();
---

{blok.html_tag == 'h1' ? (
    <h1 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : 'text-4xl sm:text-5xl lg:text-6xl', "font-medium tracking-tight mb-12 sm:mb-16", className]}>{blok.title}</h1>
) : null}

{blok.html_tag == 'h2' || blok.html_tag == undefined ? (
    <h2 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : 'text-3xl sm:text-4xl', "font-medium tracking-tight mb-12 sm:mb-16", className]}>{blok.title}</h2>
) : null}

{blok.html_tag == 'h3' ? (
    <h3 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : 'text-xl', "font-bold", className]}>{blok.title}</h3>
) : null}

{blok.html_tag == 'h4' ? (
    <h4 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : '', className]}>{blok.title}</h4>
) : null}

{blok.html_tag == 'h5' ? (
    <h5 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : '', className]}>{blok.title}</h5>
) : null}

{blok.html_tag == 'h6' ? (
    <h6 {...storyblokEditable(blok)} class:list={[blok.size && blok.size != "default" ? possibleSize[blok.size] : '', className]}>{blok.title}</h6>
) : null}